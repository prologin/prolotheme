{{ define "main" }}

{{/* Do not show the page header if its content is the site title */}}
{{ if not (eq .Site.Title .Title) }}
<header class="home-title-box">
    <h1 class="page-header-title"> {{ .Title }}</h1>
    <p class="page-header-subtitle">
    {{ .Params.subtitle }}
    </p>
</header>

{{/* Increase the size of the site header */}}
{{ else }}
<style>
header.site-header {
    font-size: 2.8vw;
    padding-top: 0;
    padding-bottom: 0;
}

.header-home-menu ul {
    font-size: 1.1vw;
}
</style>
{{ end }}

<div class="container">
    <ul class="article-list">
        {{ range (where .Pages "Params.hidden" "ne" "true").ByTitle.ByWeight }}
        {{ $link := .RelPermalink }}
        {{ if and (.Params.Tags) (not .Site.Params.Style.hideTags) }}
        <li onclick="location.href = {{ $link }}" class="article-item article-tagged-item">
        {{ else }}
        <li onclick="location.href = {{ $link }}" class="article-item">
        {{ end }}
            <h2>{{ .Title }}</h2>
            {{ if and (.Params.Tags) (not .Site.Params.Style.hideTags) }}
                <div class="tag-list">
                    {{ range .Params.tags }}
                    <a class="tag-item {{ urlize . }}" href="/tags/{{ urlize . }}">{{ . }}</a>
                    {{ end }}
                </div>
            {{ end }}
            {{ with .Params.preview }}
            <img src="{{ $link }}/{{ . }}" alt="preview" class="preview-img" height=200 />
            {{ end }}
        </li>
        {{ end }}
    </ul>
</div>

{{- partial "personalized_menu_colors.html" . -}}

{{ end }}

